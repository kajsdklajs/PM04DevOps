<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Планировщик технического обслуживания</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --gray: #95a5a6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            color: white;
            padding: 30px 0;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .stats {
            display: flex;
            gap: 20px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px 20px;
            border-radius: 8px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }
        
        .card-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: var(--dark);
            border-bottom: 2px solid var(--light);
            padding-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
            outline: none;
        }
        
        .btn {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .btn-success {
            background: var(--secondary);
        }
        
        .btn-success:hover {
            background: #27ae60;
        }
        
        .maintenance-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .maintenance-item {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border-left: 5px solid var(--primary);
            transition: all 0.3s;
        }
        
        .maintenance-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .maintenance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .maintenance-title {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .maintenance-status {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .status-planned {
            background: #e8f4fd;
            color: var(--primary);
        }
        
        .status-in-progress {
            background: #fff8e6;
            color: var(--warning);
        }
        
        .status-completed {
            background: #e8f7ee;
            color: var(--secondary);
        }
        
        .status-overdue {
            background: #fdeaea;
            color: var(--danger);
        }
        
        .maintenance-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .progress-container {
            margin-top: 15px;
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .progress-bar {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .progress-planned {
            background: var(--primary);
        }
        
        .progress-in-progress {
            background: var(--warning);
        }
        
        .progress-completed {
            background: var(--secondary);
        }
        
        .progress-overdue {
            background: var(--danger);
        }
        
        .timeline {
            margin-top: 30px;
        }
        
        .timeline-item {
            display: flex;
            margin-bottom: 25px;
            position: relative;
        }
        
        .timeline-item:before {
            content: '';
            position: absolute;
            left: 20px;
            top: 0;
            bottom: -25px;
            width: 2px;
            background: #ddd;
        }
        
        .timeline-item:last-child:before {
            display: none;
        }
        
        .timeline-marker {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 20px;
            z-index: 1;
            flex-shrink: 0;
        }
        
        .timeline-content {
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            flex-grow: 1;
        }
        
        .timeline-date {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .filter-btn {
            padding: 8px 16px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        @media (max-width: 900px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .stats {
                width: 100%;
                justify-content: center;
            }
        }
        
        @media (max-width: 600px) {
            .maintenance-details {
                grid-template-columns: 1fr;
            }
            
            .filters {
                flex-wrap: wrap;
            }
            
            .stats {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div>
                    <h1>Планировщик технического обслуживания</h1>
                    <p class="subtitle">Отслеживайте и управляйте всеми задачами по обслуживанию оборудования</p>
                </div>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value">12</div>
                        <div>Всего задач</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">5</div>
                        <div>В процессе</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">3</div>
                        <div>Завершено</div>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="main-content">
            <div class="left-column">
                <div class="card">
                    <h2 class="card-title">Добавить новое обслуживание</h2>
                    <form id="maintenance-form">
                        <div class="form-group">
                            <label for="equipment">Оборудование</label>
                            <input type="text" id="equipment" placeholder="Наименование оборудования" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="task">Задача обслуживания</label>
                            <input type="text" id="task" placeholder="Описание задачи" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="type">Тип обслуживания</label>
                            <select id="type" required>
                                <option value="">Выберите тип</option>
                                <option value="preventive">Профилактическое</option>
                                <option value="corrective">Корректирующее</option>
                                <option value="predictive">Прогнозирующее</option>
                                <option value="emergency">Аварийное</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="priority">Приоритет</label>
                            <select id="priority" required>
                                <option value="">Выберите приоритет</option>
                                <option value="low">Низкий</option>
                                <option value="medium">Средний</option>
                                <option value="high">Высокий</option>
                                <option value="critical">Критический</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="start-date">Дата начала</label>
                            <input type="date" id="start-date" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="end-date">Дата окончания</label>
                            <input type="date" id="end-date" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="description">Описание</label>
                            <textarea id="description" rows="3" placeholder="Детальное описание работ"></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-success">Добавить обслуживание</button>
                    </form>
                </div>
                
                <div class="card">
                    <h2 class="card-title">Фильтры</h2>
                    <div class="filters">
                        <button class="filter-btn active">Все</button>
                        <button class="filter-btn">Запланировано</button>
                        <button class="filter-btn">В процессе</button>
                        <button class="filter-btn">Завершено</button>
                        <button class="filter-btn">Просрочено</button>
                    </div>
                </div>
            </div>
            
            <div class="right-column">
                <div class="card">
                    <h2 class="card-title">Текущие задачи обслуживания</h2>
                    <div class="maintenance-list" id="maintenance-list">
                        <!-- Задачи будут добавляться динамически -->
                    </div>
                </div>
                
                <div class="card">
                    <h2 class="card-title">График выполнения</h2>
                    <div class="timeline">
                        <!-- Элементы таймлайна будут добавляться динамически -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Пример данных для демонстрации
        const maintenanceTasks = [
            {
                id: 1,
                equipment: "Станок ЧПУ #5",
                task: "Замена масла в редукторе",
                type: "preventive",
                priority: "medium",
                startDate: "2023-10-01",
                endDate: "2023-10-05",
                status: "completed",
                progress: 100,
                description: "Полная замена масла в редукторе главного привода"
            },
            {
                id: 2,
                equipment: "Компрессорная установка",
                task: "Техническое обслуживание",
                type: "preventive",
                priority: "high",
                startDate: "2023-10-10",
                endDate: "2023-10-15",
                status: "in-progress",
                progress: 60,
                description: "Проверка клапанов, фильтров и системы управления"
            },
            {
                id: 3,
                equipment: "Термическая печь",
                task: "Калибровка датчиков температуры",
                type: "predictive",
                priority: "medium",
                startDate: "2023-10-05",
                endDate: "2023-10-12",
                status: "in-progress",
                progress: 40,
                description: "Калибровка всех термопар и проверка системы контроля"
            },
            {
                id: 4,
                equipment: "Конвейерная линия",
                task: "Замена роликов",
                type: "corrective",
                priority: "high",
                startDate: "2023-10-15",
                endDate: "2023-10-20",
                status: "planned",
                progress: 0,
                description: "Замена изношенных роликов на участках 3 и 5"
            },
            {
                id: 5,
                equipment: "Система вентиляции",
                task: "Чистка фильтров",
                type: "preventive",
                priority: "low",
                startDate: "2023-09-25",
                endDate: "2023-09-30",
                status: "overdue",
                progress: 0,
                description: "Очистка и замена фильтров в системе приточной вентиляции"
            }
        ];

        // Функция для отображения задач
        function renderTasks() {
            const taskList = document.getElementById('maintenance-list');
            taskList.innerHTML = '';
            
            maintenanceTasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = 'maintenance-item';
                
                // Определение цвета приоритета
                let priorityColor = '';
                switch(task.priority) {
                    case 'low': priorityColor = '#2ecc71'; break;
                    case 'medium': priorityColor = '#f39c12'; break;
                    case 'high': priorityColor = '#e74c3c'; break;
                    case 'critical': priorityColor = '#8e44ad'; break;
                }
                
                taskElement.innerHTML = `
                    <div class="maintenance-header">
                        <div class="maintenance-title">${task.equipment}</div>
                        <div class="maintenance-status status-${task.status}">
                            ${getStatusText(task.status)}
                        </div>
                    </div>
                    <div class="maintenance-details">
                        <div>
                            <strong>Задача:</strong> ${task.task}
                        </div>
                        <div>
                            <strong>Тип:</strong> ${getTypeText(task.type)}
                        </div>
                        <div>
                            <strong>Приоритет:</strong> 
                            <span style="color: ${priorityColor}">${getPriorityText(task.priority)}</span>
                        </div>
                        <div>
                            <strong>Сроки:</strong> ${formatDate(task.startDate)} - ${formatDate(task.endDate)}
                        </div>
                    </div>
                    <div class="progress-container">
                        <div class="progress-info">
                            <span>Прогресс выполнения</span>
                            <span>${task.progress}%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill progress-${task.status}" style="width: ${task.progress}%"></div>
                        </div>
                    </div>
                `;
                
                taskList.appendChild(taskElement);
            });
        }
        
        // Функция для отображения таймлайна
        function renderTimeline() {
            const timeline = document.querySelector('.timeline');
            timeline.innerHTML = '';
            
            // Сортируем задачи по дате начала
            const sortedTasks = [...maintenanceTasks].sort((a, b) => 
                new Date(a.startDate) - new Date(b.startDate)
            );
            
            sortedTasks.forEach(task => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item';
                
                // Определение цвета маркера по статусу
                let markerColor = '';
                switch(task.status) {
                    case 'planned': markerColor = '#3498db'; break;
                    case 'in-progress': markerColor = '#f39c12'; break;
                    case 'completed': markerColor = '#2ecc71'; break;
                    case 'overdue': markerColor = '#e74c3c'; break;
                }
                
                timelineItem.innerHTML = `
                    <div class="timeline-marker" style="background: ${markerColor}">
                        ${task.id}
                    </div>
                    <div class="timeline-content">
                        <div class="timeline-date">${formatDate(task.startDate)} - ${formatDate(task.endDate)}</div>
                        <div><strong>${task.equipment}</strong>: ${task.task}</div>
                        <div class="maintenance-status status-${task.status}">
                            ${getStatusText(task.status)}
                        </div>
                    </div>
                `;
                
                timeline.appendChild(timelineItem);
            });
        }
        
        // Вспомогательные функции
        function getStatusText(status) {
            const statusMap = {
                'planned': 'Запланировано',
                'in-progress': 'В процессе',
                'completed': 'Завершено',
                'overdue': 'Просрочено'
            };
            return statusMap[status] || status;
        }
        
        function getTypeText(type) {
            const typeMap = {
                'preventive': 'Профилактическое',
                'corrective': 'Корректирующее',
                'predictive': 'Прогнозирующее',
                'emergency': 'Аварийное'
            };
            return typeMap[type] || type;
        }
        
        function getPriorityText(priority) {
            const priorityMap = {
                'low': 'Низкий',
                'medium': 'Средний',
                'high': 'Высокий',
                'critical': 'Критический'
            };
            return priorityMap[priority] || priority;
        }
        
        function formatDate(dateString) {
            const options = { day: '2-digit', month: '2-digit', year: 'numeric' };
            return new Date(dateString).toLocaleDateString('ru-RU', options);
        }
        
        // Обработчик формы
        document.getElementById('maintenance-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // В реальном приложении здесь будет код для добавления новой задачи
            alert('Задача добавлена! В демо-версии данные не сохраняются.');
            
            // Очистка формы
            this.reset();
        });
        
        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', function() {
            renderTasks();
            renderTimeline();
            
            // Добавляем обработчики для фильтров
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    // В реальном приложении здесь будет фильтрация задач
                });
            });
        });
    </script>
</body>
</html>